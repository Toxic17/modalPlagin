!function(){this.modal=function(e={}){var o={animationTime:500,scroll:!1,closeBtn:!0,openAnimationName:"animate__fadeInDownBig",closeAnimationName:"animate__fadeOutDownBig",absoluteClass:".fix-block",useAnimate:!0,dataModal:!1,modalHTML:`
					<div class="modal-title">
						<p>
							Title
						</p>
					</div>
					<div class="modal-body">
						This is body
					</div>
					<div class="modal-footer">
						This is footer
						<button>1</button>
						<button>2</button>
					</div>
				`};const t=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'];let a=!0,n=!1;const d=Object.assign(o,e);let l,i;var m=d.closeBtn?'<button  role="button" class="modal-btn--close"></button>':"";let s=document.querySelectorAll(d.absoluteClass);function c(){n||modal.prototype.open()}function r(){d.scroll?setTimeout(()=>{document.body.classList.remove("scroll-off"),document.body.style.top="0px",a=!0},d.animationTime):setTimeout(()=>{document.body.style.paddingRight="0px",document.body.classList.remove("scroll-lock"),s.forEach(function(o){o.style.paddingRight="0px"}),a=!0},d.animationTime)}function u(o){var e;9==o.keyCode&&(modal.modalWindow.querySelectorAll(t),modal.modalWindow.contains(document.activeElement)?(e=i.indexOf(document.activeElement),o.shiftKey&&0===e&&(i[i.length-1].focus(),o.preventDefault()),o.shiftKey||e!==i.length-1||(i[0].focus(),o.preventDefault())):(modal.lastFocus.focus(),o.preventDefault()))}function p(o){27==o.keyCode&&modal.prototype.close()}!function(){d.modalHTML=(null==e.modalHTML?d:e).modalHTML,modal.modalWindow=document.createElement("div"),modal.modalWindow.classList.add("modal-overlay"),modal.modalWindow.style.setProperty("--animate-duration",d.animationTime/1e3+"s");let o=document.createElement("div");o.classList.add("modal-overlay--wrapper"),modal.modalWindow.appendChild(o),modal.modalContent=document.createElement("div"),modal.modalContent.classList.add("modal-content"),modal.modalContent.style.setProperty("--animate-duration",d.animationTime/1e3+"s"),modal.modalContent.insertAdjacentHTML("afterbegin",m),modal.modalContent.insertAdjacentHTML("beforeend",d.modalHTML),o.appendChild(modal.modalContent),document.body.insertAdjacentElement("afterbegin",modal.modalWindow),i=Array.prototype.slice.call(modal.modalWindow.querySelectorAll(t))}(),modal.lastFocus=modal.lastFocus||i[0],d.useAnimate&&function(){let o=document.createElement("link");o.rel="stylesheet",o.href="app/animate.min.css",document.head.querySelector("title").insertAdjacentElement("afterend",o),modal.modalContent.classList.add("animate__animated")}(),d.dataModal&&(l=document.querySelector(`[data-modal='${d.dataModal}']`),l.addEventListener("click",c)),setTimeout(function(){document.addEventListener("click",function(o){o.target.classList.contains("modal-overlay--wrapper")&&modal.prototype.close(),d.closeBtn&&o.target.classList.contains("modal-btn--close")&&modal.prototype.close()})},d.animationTime),modal.prototype.open=function(){if(n)throw new Error("This modal has been destoryed");var e;a&&(modal.closeFocus=document.activeElement,modal.scrollFromTop=window.pageYOffset,modal.modalWindow.classList.add("open"),modal.modalWindow.querySelector(".modal-content").classList.add(d.openAnimationName),modal.modalWindow.classList.add("open"),d.scroll?document.body.scrollHeight-document.body.clientHeight&&(document.body.classList.add("scroll-off"),document.body.style.top="-"+modal.scrollFromTop+"px"):(e=window.innerWidth-document.body.offsetWidth,document.body.style.paddingRight=e+"px",document.body.classList.add("scroll-lock"),s.forEach(function(o){o.style.paddingRight=e+"px"})),modal.modalContent.classList.toggle(d.closeAnimationName,!1),modal.modalContent.classList.add(d.openAnimationName),document.addEventListener("keydown",p),setTimeout(()=>{a=!1,"BODY"==modal.lastFocus.tagName&&i[0].focus(),modal.closed||0===i.length||(modal.lastFocus.focus(),document.addEventListener("keydown",u))},d.animationTime))},modal.prototype.close=function(){a||n||(modal.modalWindow.classList.remove("open"),modal.modalWindow.querySelector(".modal-content").classList.toggle(d.openAnimationName,!1),modal.modalWindow.querySelector(".modal-content").classList.add(d.closeAnimationName),r(),0==!i.length&&(document.removeEventListener("keydown",u),modal.lastFocus=document.activeElement,setTimeout(()=>{modal.closeFocus.focus(),window.scrollTo(0,modal.scrollFromTop)},d.animationTime)))},modal.prototype.destroy=function(){a||r(),n||(modal.modalWindow.parentNode.removeChild(modal.modalWindow),l.removeEventListener("click",c),document.removeEventListener("keydown",u),n=!0)}}}();